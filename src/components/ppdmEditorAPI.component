<apex:component access="GLOBAL" controller="CSRemoteActionDelegation">

    <script type='text/javascript'>

        Visualforce.remoting.timeout = 120000;
        Visualforce.remoting.escape = false;
        Visualforce.remoting.buffer = true;

        window.CS = window.CS || {};

        window.CS.PPDM = {
            vfRemotingManager: Visualforce.remoting.Manager,
            actions: {
                getPackages: '{!$RemoteAction.CSRemoteActionDelegation.getPackages}',
                getCPs: '{!$RemoteAction.CSRemoteActionDelegation.getCPs}',
                getCommercialProduct: '{!$RemoteAction.CSRemoteActionDelegation.getCommercialProduct}',
                getCPAOAssociation: '{!$RemoteAction.CSRemoteActionDelegation.getCPAOAssociation}',
                updateRecurringPricing: '{!$RemoteAction.CSRemoteActionDelegation.updateRecurringPricing}',
                updateOneOffPricing: '{!$RemoteAction.CSRemoteActionDelegation.updateOneOffPricing}',
            },
            session: {
                id: '{!$Api.Session_Id}'
            },
            userInfo: {
                userId: '{!JSENCODE($User.id)}',
                themeDisplayed: '{!JSENCODE($User.uiTheme)}',
                profileId: '{!JSENCODE($User.profileId)}',
                profileName: '{!JSENCODE($Profile.name)}',
                roleId: '{!JSENCODE($UserRole.id)}',
                roleName: '{!JSENCODE($UserRole.name)}',
                userType: '{!JSENCODE(TEXT($User.userType))}',
            }
        };
    </script>

    <div id="root"></div>

    <script type="text/javascript" src="{! $Resource.ppdmEditorJS}"></script>

</apex:component>